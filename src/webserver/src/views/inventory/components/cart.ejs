<div class="container">
  <div class="py-5 text-center">
    
    <h2>Checkout</h2>
  </div>

  <div class="row">
    <div class="col-md-4 order-md-2 mb-4">
      <ul>
        <li>
      <h4 class="d-flex justify-content-between align-items-center mb-3">
        <span class="text-muted">Your cart</span></li>
        <% locals.items.map((item) => { %>
          <li id="cart-product-card-<%- item.id %>" class="flex py-6">
              <div
                class="h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200"
              >
                <img
                  src="<%- item.image_url %>"
                  alt="<%- item.title %>"
                  class="h-full w-full object-cover object-center"
                />
              </div>
    
              <div class="ml-4 flex flex-1 flex-col">
                <div>
                  <div
                    class="flex justify-between text-base font-medium text-gray-900"
                  >
                    <h5><%= item.title %></h5>
                    <p class="ml-4">$<%= item.price %></p>
                  </div>
                </div>
                <div class="flex flex-1 items-end justify-between text-sm">
                  <p class="text-gray-500">Qty <%= item.quantity %></p>
                </div>
                <div class="flex">
                  <button
                    id="remove-from-cart-<%- item.id %>"
                    type="button"
                    class="font-medium text-blue-600 hover:text-blue-500"
                  >
                    Remove
                  </button>
                </div>
              </div>
              <% }) %>
          </li>
        <li class="list-group-item d-flex justify-content-between">
          <span>Total (USD)</span>
          <strong>$<%= locals.total_price %></strong>
        </li>
      </ul>

    </div>
    <div class="col-md-8 order-md-1">
      <h4 class="mb-3">Billing address</h4>
      <form class="needs-validation" novalidate>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="firstName">First name</label>
            <input type="text" class="form-control" id="firstName" placeholder="" value="" required>
            <div class="invalid-feedback">
              Valid first name is required.
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <label for="lastName">Last name</label>
            <input type="text" class="form-control" id="lastName" placeholder="" value="" required>
            <div class="invalid-feedback">
              Valid last name is required.
            </div>
          </div>
        </div>

        <div class="mb-3">
          <label for="email">Email <span class="text-muted">(Optional)</span></label>
          <input type="email" class="form-control" id="email" placeholder="you@example.com">
          <div class="invalid-feedback">
            Please enter a valid email address for shipping updates.
          </div>
        </div>

        <div class="mb-3">
          <label for="address">Address</label>
          <input type="text" class="form-control" id="address" placeholder="1234 Main St" required>
          <div class="invalid-feedback">
            Please enter your shipping address.
          </div>
        </div>

        <div class="mb-3">
          <label for="address2">Address 2 <span class="text-muted">(Optional)</span></label>
          <input type="text" class="form-control" id="address2" placeholder="Apartment or suite">
        </div>

        <div class="row">
          <div class="col-md-5 mb-3">
            <label for="country">Country</label>
            <select class="custom-select d-block w-100" id="country" required>
              <option value="">Choose...</option>
              <option>United States</option>
            </select>
            <div class="invalid-feedback">
              Please select a valid country.
            </div>
          </div>
          <div class="col-md-3 mb-3">
              <label for="zip">State</label>
              <input type="text" class="form-control" id="state" placeholder="" required>
              <div class="invalid-feedback">
                State required.
              </div>
            </div>
          <div class="col-md-3 mb-3">
            <label for="zip">Zip</label>
            <input type="text" class="form-control" id="zip" placeholder="" required>
            <div class="invalid-feedback">
              Zip code required.
            </div>
          </div>
        </div>

        <h4 class="mb-3">Payment</h4>

        <div class="d-block my-3">
          <div class="custom-control custom-radio">
            <input id="credit" name="paymentMethod" type="radio" class="custom-control-input" checked required>
            <label class="custom-control-label" for="credit">Credit card</label>
          </div>
          <div class="custom-control custom-radio">
            <input id="debit" name="paymentMethod" type="radio" class="custom-control-input" required>
            <label class="custom-control-label" for="debit">Debit card</label>
          </div>
          <div class="custom-control custom-radio">
            <input id="paypal" name="paymentMethod" type="radio" class="custom-control-input" required>
            <label class="custom-control-label" for="paypal">PayPal</label>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="cc-name">Name on card</label>
            <input type="text" class="form-control" id="cc-name" placeholder="" required>
            <small class="text-muted">Full name as displayed on card</small>
            <div class="invalid-feedback">
              Name on card is required
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <label for="cc-number">Credit card number</label>
            <input type="text" class="form-control" id="cc-number" placeholder="" required>
            <div class="invalid-feedback">
              Credit card number is required
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3 mb-3">
            <label for="cc-expiration">Expiration</label>
            <input type="text" class="form-control" id="cc-expiration" placeholder="" required>
            <div class="invalid-feedback">
              Expiration date required
            </div>
          </div>
          <div class="col-md-3 mb-3">
            <label for="cc-cvv">CVV</label>
            <input type="text" class="form-control" id="cc-cvv" placeholder="" required>
            <div class="invalid-feedback">
              Security code required
            </div>
          </div>
        </div>
        <hr class="mb-4">
        <!-- <a href="/thank_you" type="button">Submit Order</a> -->
        <!-- <button class="btn btn-primary btn-lg btn-block" type="submit">Submit Order</button> -->
      </form>
    </div>
  </div>
</div>
<!-- 
<div class="flex-1 overflow-y-auto px-4 py-6 sm:px-6">
  <div class="flex items-start justify-between">
    <h2 class="text-lg font-medium text-gray-900" id="slide-over-title">
      Shopping cart
    </h2>
  </div>

  <div class="mt-8">
    <div class="flow-root">
      <ul role="list" class="-my-6 divide-y divide-gray-200">
        <% locals.items.map((item) => { %>
        <li id="cart-product-card-<%- item.id %>" class="flex py-6">
          <div
            class="h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200"
          >
            <img
              src="<%- item.image_url %>"
              alt="<%- item.title %>"
              class="h-full w-full object-cover object-center"
            />
          </div>

          <div class="ml-4 flex flex-1 flex-col">
            <div>
              <div
                class="flex justify-between text-base font-medium text-gray-900"
              >
                <h3><%= item.title %></h3>
                <p class="ml-4">$<%= item.price %></p>
              </div>
              <p class="mt-1 text-sm text-gray-500"><%= item.description %></p>
            </div>
            <div class="flex flex-1 items-end justify-between text-sm">
              <p class="text-gray-500">Qty <%= item.quantity %></p>

              <div class="flex">
                <button
                  id="remove-from-cart-<%- item.id %>"
                  type="button"
                  class="font-medium text-blue-600 hover:text-blue-500"
                >
                  Remove
                </button>
              </div>
            </div>
          </div>
        </li>
        <% }) %>
      </ul>
    </div>
  </div>
</div>

<div class="border-t border-gray-200 px-4 py-6 sm:px-6">
  <div class="flex justify-between text-base font-medium text-gray-900">
    <p>Subtotal</p>
    <p id="cart-total-price">$<%= locals.total_price %></p>
  </div>
  <p class="mt-0.5 text-sm text-gray-500">Free Shipping</p>
  <div class="mt-6">
    <a
      href="/checkout"
      class="flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-6 py-3 text-base font-medium text-white shadow-sm hover:bg-blue-700"
      >Checkout</a
    >
  </div>
</div>-->

<button id="openModalButton" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
  Submit Order
</button>

<!-- Modal overlay -->
<div id="modalOverlay" class="fixed inset-0 bg-gray-800 bg-opacity-50 hidden"></div> -

<!-- Modal content -->
<div id="modal" class="fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white p-6 rounded shadow-md hidden">
  <!-- Modal content goes here -->
  <div class="container mt-5 d-flex justify-content-center">
    <div class="card p-4 mt-3">
       <div class="first d-flex justify-content-between align-items-center mb-3">
         <div class="info">
             <span class="d-block name">Thank you for your purchase</span>
             <span class="order">Order - 4554645</span>
         </div>
          <img src="https://i.imgur.com/NiAVkEw.png" width="40"/>
       </div>
           <div class="detail">
       <span class="d-block summery">Your order has been processed, shipping information will be available shortly</span>
           </div>
       <hr>
       <div class="text">
      </div>
     </div>
 </div>
  <!-- Close button -->
  <button id="closeModalButton" class="mt-4 bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">
    Close
  </button> 
</div>

<script>
  // JavaScript to handle modal interactions
  const openModalButton = document.getElementById('openModalButton');
  const closeModalButton = document.getElementById('closeModalButton');
  const modalOverlay = document.getElementById('modalOverlay');
  const modal = document.getElementById('modal');

  //Open the modal
  openModalButton.addEventListener('click', () => {
    modalOverlay.classList.remove('hidden');
    modal.classList.remove('hidden');
  });

  // Close the modal
  closeModalButton.addEventListener('click', () => {
    modalOverlay.classList.add('hidden');
    modal.classList.add('hidden');
  });

  // Close the modal when clicking outside of it
  modalOverlay.addEventListener('click', () => {
    modalOverlay.classList.add('hidden');
    modal.classList.add('hidden');
  }); 
 </script>   